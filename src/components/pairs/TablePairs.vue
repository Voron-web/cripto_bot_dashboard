<template>
	<div class="table__wrapper">
		<table>
			<thead>
				<tr>
					<td>
						<div class="table__title">
							<svg
								version="1.1"
								xmlns="http://www.w3.org/2000/svg"
								xmlns:xlink="http://www.w3.org/1999/xlink"
								viewBox="0 0 512 512"
								xml:space="preserve">
								<g id="SVGRepo_bgCarrier" stroke-width="0"></g>
								<g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
								<g id="SVGRepo_iconCarrier">
									<g>
										<path
											d="M256,0C114.625,0,0,114.625,0,256c0,141.391,114.625,256,256,256s256-114.609,256-256 C512,114.625,397.375,0,256,0z M256,448c-105.859,0-192-86.141-192-192c0-105.875,86.141-192,192-192c105.875,0,192,86.125,192,192 C448,361.859,361.875,448,256,448z"></path>
										<path
											d="M305.938,253c9.344-3.625,19.813-14.188,22.938-17.922s5.438-7.75,6.922-12.047s2.234-8.781,2.234-13.484 c0-8.203-1.5-15.594-4.469-22.141c-2.984-6.547-7.828-11.906-14.063-16.734c-11.156-8.656-27.344-12.781-40.469-13.891v-28.125 h-24.297v27.75l-22.016-0.063v-27.688h-24.281v27.609h-19.281h-24.938v22.078c0,4.781-0.359,7.656,4.609,8.656 c0.422,0.078,1.063,0.188,1.875,0.313c0.813,0.141,10.531,0.453,12.688,0.75c3.328,0.469,5.766,2.234,5.766,6.75v119.797 c0,3.719-1.844,7.406-5.766,7.406c-2.172,0-11.875,0.594-12.688,0.734s-1.438,0.25-1.875,0.328 c-4.969,0.984-4.609,3.875-4.609,8.641v24.656h24.938h19.281v26.953h24.281v-26.953h22.016v26.953h24.297v-27.156 c9-0.5,18.641-1.891,26.313-4.219c9.734-2.953,15.406-7.047,22.047-12.25c6.656-5.219,11.703-11.422,15.188-18.625 c3.484-7.188,5.203-15.031,5.203-23.516C347.781,274.031,334.469,257.953,305.938,253z M234.063,191.719h19.688 c10.406,0,18.031,1.719,22.922,5.125c4.875,3.391,7.328,9.109,7.328,17.125c0,7.75-2.719,13.391-8.156,16.938 c-5.406,3.547-13.344,5.344-23.797,5.344h-17.984V191.719z M289.125,306.063c-1.031,2.844-2.719,5.328-5.031,7.469 c-2.328,2.125-5.422,3.828-9.281,5.109s-8.656,1.922-14.375,1.922h-25.516v-45.156h25.406c5.422,0,10.031,0.484,13.859,1.484 c3.813,1,6.938,2.422,9.375,4.313c2.469,1.875,4.25,4.156,5.406,6.813c1.141,2.672,1.703,5.672,1.703,9 C290.672,300.203,290.156,303.234,289.125,306.063z"></path>
									</g>
								</g>
							</svg>
							<p>Symbol</p>
						</div>
					</td>
					<td>
						<div class="table__title">
							<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
								<g id="SVGRepo_bgCarrier" stroke-width="0"></g>
								<g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
								<g id="SVGRepo_iconCarrier">
									<title>time</title>
									<path
										d="M0 16q0-3.232 1.28-6.208t3.392-5.12 5.12-3.392 6.208-1.28q3.264 0 6.24 1.28t5.088 3.392 3.392 5.12 1.28 6.208q0 3.264-1.28 6.208t-3.392 5.12-5.12 3.424-6.208 1.248-6.208-1.248-5.12-3.424-3.392-5.12-1.28-6.208zM4 16q0 3.264 1.6 6.048t4.384 4.352 6.016 1.6 6.016-1.6 4.384-4.352 1.6-6.048-1.6-6.016-4.384-4.352-6.016-1.632-6.016 1.632-4.384 4.352-1.6 6.016zM14.016 16v-5.984q0-0.832 0.576-1.408t1.408-0.608 1.408 0.608 0.608 1.408v4h4q0.8 0 1.408 0.576t0.576 1.408-0.576 1.44-1.408 0.576h-6.016q-0.832 0-1.408-0.576t-0.576-1.44z"></path>
								</g>
							</svg>
							<span>Timeframe</span>
						</div>
					</td>
					<td>
						<div class="table__title">
							<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke-width="2.5">
								<g>
									<g>
										<path
											fill="none"
											d="M17.67,22.5H6.33A4.83,4.83,0,0,1,1.5,17.67h0a4.83,4.83,0,0,1,1.24-3.23l7.35-8.17h3.82l7.35,8.17a4.83,4.83,0,0,1,1.24,3.23h0A4.83,4.83,0,0,1,17.67,22.5Z"></path>
										<path fill="none" d="M15.82,1.5l-.39,2A3.49,3.49,0,0,1,12,6.27h0A3.49,3.49,0,0,1,8.57,3.46l-.39-2Z"></path>
										<line x1="18.68" y1="3.41" x2="14.86" y2="5.32"></line>
										<line x1="19.64" y1="6.27" x2="13.91" y2="6.27"></line>
										<path
											fill="none"
											d="M10.09,17.73h2.39a1.43,1.43,0,0,0,1.43-1.43h0a1.43,1.43,0,0,0-1.43-1.44h-1a1.43,1.43,0,0,1-1.43-1.43h0A1.43,1.43,0,0,1,11.52,12h2.39"></path>
										<line x1="12" y1="11.05" x2="12" y2="12"></line>
										<line x1="12" y1="17.73" x2="12" y2="18.68"></line>
									</g>
								</g>
							</svg>
							<span>Capital</span>
						</div>
					</td>
					<td>Active</td>
					<td>Open deal</td>
					<td class="table__title_edit"></td>
				</tr>
			</thead>
			<tbody>
				<tr v-for="item in data" :key="item._id">
					<td class="table__symbol">{{ item.symbol }}</td>
					<td class="table__tf">{{ convertTimeframe(item.options.timeframeBase) }}</td>
					<td class="table__capital">{{ item.capital }}</td>
					<td class="table__isactive">
						<TableCheck v-if="item.isActive" class="check" />
					</td>
					<td class="table__deal">
						<TableCheck v-if="item.isDealOpen" class="check" />
					</td>
					<td class="table__edit">
						<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
							<g id="SVGRepo_iconCarrier">
								<path
									fill-rule="evenodd"
									clip-rule="evenodd"
									d="M7 4C5.34315 4 4 5.34315 4 7V17C4 18.6569 5.34315 20 7 20H17C18.6569 20 20 18.6569 20 17V11C20 10.4477 20.4477 10 21 10C21.5523 10 22 10.4477 22 11V17C22 19.7614 19.7614 22 17 22H7C4.23858 22 2 19.7614 2 17V7C2 4.23858 4.23858 2 7 2H13C13.5523 2 14 2.44772 14 3C14 3.55228 13.5523 4 13 4H7Z"></path>
								<path
									fill-rule="evenodd"
									clip-rule="evenodd"
									d="M17.2156 2.82088C17.7412 2.29528 18.4541 2 19.1974 2C19.9407 2 20.6535 2.29528 21.1791 2.82088C21.7047 3.34648 22 4.05934 22 4.80265C22 5.54596 21.7047 6.25883 21.1791 6.78443L20.396 7.56757C20.0055 7.9581 19.3723 7.9581 18.9818 7.56757L16.4324 5.01824C16.0419 4.62771 16.0419 3.99455 16.4324 3.60402L17.2156 2.82088ZM15.0182 6.43245C14.6277 6.04192 13.9945 6.04192 13.604 6.43245L9.14269 10.8938C9.01453 11.0219 8.92362 11.1825 8.87966 11.3583L8.02988 14.7575C7.94468 15.0982 8.04453 15.4587 8.29291 15.7071C8.54129 15.9555 8.90178 16.0553 9.24256 15.9701L12.6417 15.1204C12.8175 15.0764 12.9781 14.9855 13.1062 14.8573L17.5676 10.396C17.9581 10.0055 17.9581 9.37231 17.5676 8.98179L15.0182 6.43245Z"></path>
							</g>
						</svg>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</template>

<script>
import TableCheck from "@/components/UI/TableCheck.vue";

export default {
	props: {
		data: Array,
		default: [],
	},
	components: {
		TableCheck,
	},
	methods: {
		convertTimeframe(time) {
			const timeframesMap = {
				"1": "1m",
				"3": "3m",
				"5": "5m",
				"15": "15m",
				"30": "30m",
				"60": "1h",
				"240": "4h",
				"D": "1d",
			};
			return timeframesMap[time];
		},
	},
};
</script>

<style lang="scss" scoped>
table {
	width: 100%;
	color: var(--title-color);
	border-collapse: collapse;
	table-layout: fixed;
}
thead {
	height: 80px;
	font-weight: 600;
	& td {
		text-align: center;
		&:nth-child(1) {
			padding-left: 20px;
			text-align: left;
			& .table__title {
				margin: 0;
			}
		}
		& svg {
			height: 20px;
			fill: var(--text-color);
			stroke: var(--text-color);
		}
	}
}
tbody {
	padding-left: 20px;
	& td {
		font-weight: 500;
		color: var(--text-color);
		height: 70px;
		text-align: center;

		&:nth-child(1) {
			padding-left: 20px;
			text-align: left;
		}
	}
	& tr:nth-child(odd) {
		background: var(--accent-color);
	}
}
.check {
	margin: 0 auto;
}
.table {
	&__wrapper {
		overflow: hidden;
		background: var(--block-color);
		border-radius: 0 0 12px 12px;
	}
	&__edit {
		& svg {
			cursor: pointer;
			margin: 0 auto;
			width: 35px;
			fill: var(--text-color);
		}
	}
	&__title {
		margin: 0 auto;
		width: fit-content;
		display: flex;
		align-items: center;
		gap: 10px;
		&_edit {
			width: 150px;
		}
	}
}
</style>
